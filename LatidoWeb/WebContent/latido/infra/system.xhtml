<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html">
    <h:head>
        <title>Catalogo de sistemas</title>
    </h:head>
    <h:body>
        <b:form id="mainForm">
        		<b:buttonGroup>
        			<b:commandButton value="Nuevo" icon-awesome="file-text-o" 
        							 look="primary" 
        							 actionListener="#{system.newAction}"
        							 ajax="true"/>
        			<b:commandButton value="Guardar" icon-awesome="save" 
        							 look="primary" 
        							 actionListener="#{system.saveAction}"
        							 ajax="true"/>
        			<b:commandButton value="Limpiar" icon-awesome="eraser" 
        							 look="primary" 
        							 actionListener="#{system.clearAction}"
        							 ajax="true"/>
        		</b:buttonGroup>
        		<hr/>
        		<b:panel id="formPanel" title="Sistemas" look="primary">
        			<b:panelGrid columns="3"  sytle=" align : left; halign: middle;">
	        			<b:panelGrid columns="2" colSpans="4,8">
	     				<h:outputLabel>Nombre</h:outputLabel>
	      				<b:inputText id="txtNombre" value="#{system.system.nombre}"></b:inputText>
	     			</b:panelGrid>
	     			<b:panelGrid columns="2" colSpans="4,8">
	     				<h:outputLabel>Descripcion</h:outputLabel>
	      				<b:inputText id="txtDescripcion" value="#{system.system.descripcion}"></b:inputText>
	     			</b:panelGrid>
	     			<b:panelGrid columns="2" colSpans="4,8" >
        					<h:outputLabel>Estatus</h:outputLabel>
						<b:selectOneMenu id="somEstCiv" span="200" value="#{system.system.estatus}">
							<f:selectItem itemLabel="Activo" itemValue="1"></f:selectItem>
							<f:selectItem itemLabel="Inactivo" itemValue="0"></f:selectItem>
						</b:selectOneMenu>
        				</b:panelGrid>
     			</b:panelGrid>
        		</b:panel>
        		<hr/>
			<b:dataTable value="#{system.systems}"
		                 var="row"
		                 select="true"
		                 selectionMode="single"
		                 multiColumnSearch="true"
		                 onselect="ajax:system.onSelect(row, typeOfSelection, indexes);">
		        <b:dataTableColumn value="#{row.nombre}" label="Nombre"/>
		        <b:dataTableColumn value="#{row.descripcion}" label="Descripcion"/>
		        <b:dataTableColumn value="#{row.estatus == 1 ? 'Activo' : 'Inactivo'}" label="Estatus"/>
		    </b:dataTable>
		    <b:growl id="growlMsg" globalOnly="true" placementFrom="bottom"
			         show-detail="true" show-summary="false" allowDismiss="true"
			         delay="4000" escape="true" />
        </b:form>
    </h:body>
</html>